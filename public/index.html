<!DOCTYPE html>
<html>
<head>
    <title>Chat Application</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        /* CSS styles remain the same */
    </style>
</head>
<body>
<h1>Chat Application</h1>
<div id="chat-container">
    <ul id="messages"></ul>
</div>
<div id="chat-input-container">
    <input type="text" id="chat-input" placeholder="Type your message..." autocomplete="off">
    <button id="send-button">Send</button>
</div>

<script>
    const socket = io();
    const chatInput = document.getElementById('chat-input');
    const sendButton = document.getElementById('send-button');
    const messagesList = document.getElementById('messages');

    // Receive the chat history from the server
    socket.on('chat history', (history) => {
        history.forEach((message) => {
            displayMessage(message.message, message.sender);
        });
    });

    // Handle new chat messages
    socket.on('chat message', (msg , sender) => {
        displayMessage(msg, sender);
    });

    chatInput.addEventListener('keyup', (e) => {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    sendButton.addEventListener('click', () => {
        sendMessage();
    });

    function sendMessage() {
        const message = chatInput.value.trim();
        if (message) {
            socket.emit('chat message', message);
            chatInput.value = '';
        }
    }

    function displayMessage(message, sender) {
        console.log(message)
        const li = document.createElement('li');
        li.textContent = `${sender}: ${message}`;
        messagesList.appendChild(li);
        messagesList.scrollTop = messagesList.scrollHeight;
    }
</script>
</body>
</html>